var home;!function(e){"use strict";angular.module("user",["ngRoute"])}(home||(home={}));var User;!function(e){var n;!function(e){"use strict";var n=function(){function e(e,n,t,o){this.$resource=e,this.$q=n,this.configService=t,this.log=o,this.userResource=e(this.configService.getServiceUrl("/users"))}return e.prototype.loadUserData=function(){var e=this,n=this.$q.defer();return this.userData?n.resolve(this.userData):this.userResource.get().$promise.then(function(t){e.userData=t,n.resolve(e.userData)})["catch"](function(e){n.reject(e)}),n.promise},e.prototype.getCurrentUser=function(){return this.userData},e.prototype.saveUser=function(e){return this.userData=e,this.userResource.save(e).$promise},e.$inject=["$resource","$q","ConfigService","LoggerService"],e}();angular.module("user").service("UserService",n)}(n=e.Services||(e.Services={}))}(User||(User={}));var User;!function(e){var n;!function(e){"use strict";var n=function(){function e(e,n){this.userService=e,this.log=n,this.displayUser=e.getCurrentUser()}return e.prototype.saveUser=function(){this.displayUser.password=this.password;var e=this;this.userService.saveUser(this.displayUser).then(function(n){e.log.info("Daten gespeichert",n)})["catch"](function(n){e.log.error("Speichern fehlgeschlagen",n)})},e.$inject=["UserService","LoggerService"],e}();angular.module("user").controller("UserCtrl",n)}(n=e.Controllers||(e.Controllers={}))}(User||(User={}));var session;!function(e){"use strict";angular.module("session",["ngRoute"])}(session||(session={}));var Session;!function(e){var n;!function(e){"use strict";var n=function(){function e(e,n,t,o){this.$http=e,this.$q=n,this.configService=t,this.log=o}return e.prototype.login=function(e,n){var t=this,o=this.$q.defer();return this.$http.post(this.configService.getServiceUrl("/session/login"),{username:e,password:n}).then(function(e){t.setCurrentSession(e.data),o.resolve(t.currentSession)})["catch"](function(e){t.log.debug("login failed",e),o.reject(e)}),o.promise},e.prototype.logout=function(){var e=this,n=this.$q.defer();return this.$http.post(this.configService.getServiceUrl("/session/logout"),{}).then(function(t){e.setCurrentSession(t.data),n.resolve(e.currentSession)})["catch"](function(t){e.log.debug("logout failed",t),n.reject(t)}),n.promise},e.prototype.isLoggedIn=function(){return this.currentSession&&this.currentSession.loggedId},e.prototype.getCurrentSession=function(){return this.currentSession},e.prototype.loadCurrentSession=function(){var e=this,n=this.$q.defer();return this.currentSession?n.resolve(this.currentSession):this.$http.get(this.configService.getServiceUrl("/session/")).then(function(t){e.setCurrentSession(t.data),n.resolve(e.currentSession)})["catch"](function(t){e.log.debug("load current session failed",t),n.reject(t)}),n.promise},e.prototype.getPlayerId=function(){return this.currentSession.playerId},e.prototype.get=function(){return"LoginService"},e.prototype.setCurrentSession=function(e){this.currentSession=e,this.log.debug("current session set to playerId "+this.currentSession.playerId+" and "+this.currentSession.username)},e.$inject=["$http","$q","ConfigService","LoggerService"],e}();angular.module("session").service("SessionService",n)}(n=e.Services||(e.Services={}))}(Session||(Session={}));var Session;!function(e){var n;!function(e){"use strict";var n=function(){function e(e,n,t){this.sessionService=e,this.appConfig=n,this.log=t,this.currentSession=e.getCurrentSession(),this.userLoggedIn=this.currentSession.loggedId}return e.prototype.login=function(){var e=this;this.sessionService.login(this.username,this.password).then(function(n){e.currentSession=n,e.userLoggedIn=n.loggedId})["catch"](function(n){e.log.error("Login fehlgeschlagen")})},e.prototype.logout=function(){var e=this;this.sessionService.logout().then(function(n){e.currentSession=n,e.userLoggedIn=n.loggedId})["catch"](function(n){e.log.error("Logout fehlgeschlagen")})},e.$inject=["SessionService","appConfig","LoggerService"],e}();angular.module("session").controller("SessionCtrl",n)}(n=e.Controllers||(e.Controllers={}))}(Session||(Session={}));var home;!function(e){"use strict";angular.module("home",["ngRoute"])}(home||(home={}));var Home;!function(e){var n;!function(e){"use strict";var n=function(){function e(){}return e.$inject=[],e}();angular.module("home").controller("HomeCtrl",n)}(n=e.Controllers||(e.Controllers={}))}(Home||(Home={}));var game;!function(e){"use strict";angular.module("game",["ngRoute"])}(game||(game={}));var Game;!function(e){var n;!function(e){"use strict";var n=function(){function e(){this.restrict="E",this.replace=!0,this.templateUrl="game/directives/game-move-directive.tpl.html"}return e.prototype.link=function(e,n,t){console.log("link scope "+e)},e}();e.GameMove=n,angular.module("game").directive("gameMove",function(){return new n})}(n=e.Directives||(e.Directives={}))}(Game||(Game={}));var GameField;!function(e){"use strict";function n(){return{restrict:"E",replace:!0,templateUrl:"game/directives/game-field-directive.tpl.html"}}angular.module("game").directive("gameField",n)}(GameField||(GameField={}));var Game;!function(e){var n;!function(e){"use strict";var n=function(){function e(e,n,t,o,s){this.log=e,this.gameService=n,this.$scope=t,this.sessionService=o,this.$location=s,this.selectedMoveField=3}return e.prototype.getCurrentGame=function(){return this.gameService.getGame()},e.prototype.mouseOver=function(e){var n=$(e.target).data("x");void 0!=n&&(this.selectedMoveField=n)},e.prototype.keyDown=function(e){var n=this.getCurrentGame(),t=n.cells[0].length-1,o=e.keyCode;37===o&&this.selectedMoveField>0?this.selectedMoveField--:39===o&&this.selectedMoveField<t?this.selectedMoveField++:(13===o||32===o||40===o)&&this.gameService.doMove(this.selectedMoveField)},e.prototype.doMove=function(e){var n=$(e.target).data("x");void 0!=n&&this.gameService.doMove(n)},e.prototype.getMoveFields=function(){for(var e=new Array,n=this.getCurrentGame(),t=0;t<n.cells[0].length;t++)t===this.selectedMoveField?e.push(n.nextColor):e.push(0);return e},e.prototype.isCurrentUserOnMove=function(){var e=this.sessionService.getPlayerId(),n=this.getCurrentGame().nextPlayerId;return e===n},e.prototype.isGameFinished=function(){return 2===this.getCurrentGame().state},e.prototype.isGameBroken=function(){return 3===this.getCurrentGame().state},e.prototype.getGameState=function(){var e;return e=this.isGameFinished()?this.isCurrentUserOnMove()?{state:"won",message:"Spiel gewonnen!"}:{state:"loose",message:"Spiel verloren!"}:this.isGameBroken()?{state:"broken",message:"Spiel beendet!"}:this.isCurrentUserOnMove()?{state:"play",message:"Zug ausfÃ¼hren!"}:{state:"wait",message:"Zug abwarten!"}},e.prototype.restartGame=function(){this.log.debug("restart game"),this.gameService.restartGame()},e.prototype.breakGame=function(){var e=this;this.log.debug("break game"),this.gameService.breakGame().then(function(){e.$location.path("/lobby")})},e.$inject=["LoggerService","GameService","$scope","SessionService","$location"],e}();angular.module("game").controller("GameCtrl",n)}(n=e.Controllers||(e.Controllers={}))}(Game||(Game={}));var common;!function(e){"use strict";angular.module("common",[])}(common||(common={}));var Common;!function(e){var n;!function(e){"use strict";var n=function(){function e(e,n){this.type=e,this.data=n}return e}();e.ClientMessage=n;var t=function(){function e(e,n,t,o){this.log=e,this.$rootScope=n,this.configService=t,this.$http=o,this.messageListeners={},this.timerId=0,this.waitForConnection=function(e,n){if(this.ws.readyState===WebSocket.OPEN)e();else{var t=this;setTimeout(function(){t.waitForConnection(e,n)},n)}};var s=t.getWebsocketUrl();e.debug("trying to reach server "+s+" before connecting websocket"),this.connect(s)}return e.prototype.connect=function(e){this.log.debug("connecting websocket to "+e);var n=this;this.ws=new WebSocket(e),this.ws.onmessage=function(e){return n.onMessage(e)},this.ws.onopen=function(e){return n.onOpen(e)},this.ws.onerror=function(e){return n.onError(e)},this.ws.onclose=function(e){return n.onClose(e)}},e.prototype.addMessageListener=function(e,n){this.log.debug("adding message listener "+n+" for message type "+e),this.messageListeners.hasOwnProperty(e)||(this.messageListeners[e]=new Array),this.messageListeners[e].push(n)},e.prototype.removeMessageListenerType=function(e){if(this.log.debug("removing message listener type from message listener object"+e),this.messageListeners.hasOwnProperty(e))for(var n in this.messageListeners)if(n==e)return void delete this.messageListeners[n]},e.prototype.removeMessageListener=function(e,n){if(this.log.debug("removing message listener "+n+" for message type "+e),this.messageListeners.hasOwnProperty(e))for(var t in this.messageListeners)if(t==e)for(var o=0;o<this.messageListeners[t].length;o++)if(this.messageListeners[t][o]==n)return void this.messageListeners[t].splice(o,1)},e.prototype.sendMessage=function(e){var n=this;this.ws.readyState==WebSocket.CLOSING||this.ws.readyState===WebSocket.CLOSED?(this.connect(this.configService.getWebsocketUrl()),this.waitForConnection(function(){n.ws.send(JSON.stringify(e))},500)):this.ws.readyState===WebSocket.CONNECTING?this.waitForConnection(function(){n.sendMessage(e)},500):this.ws.send(JSON.stringify(e))},e.prototype.onMessage=function(e){this.log.debug("message received: "+e);var n=JSON.parse(e.data),t=n.type,o={type:n.type,data:n.data};this.messageListeners.hasOwnProperty(t)&&this.messageListeners[t].forEach(function(e){return e(o)}),this.$rootScope.$digest()},e.prototype.onOpen=function(e){this.log.debug("WebSocket Open: "+e)},e.prototype.onError=function(e){this.log.error("WebSocket Error: "+e)},e.prototype.onClose=function(e){this.log.debug("Websocket connection has been closed: "+e)},e.$inject=["LoggerService","$rootScope","ConfigService","$http"],e}();angular.module("common").service("MessageService",t)}(n=e.Services||(e.Services={}))}(Common||(Common={}));var Common;!function(e){var n;!function(e){"use strict";var n=function(){function e(e){this.$log=e,toastr.options.timeOut=3e3,toastr.options.showDuration=1200,toastr.options.hideDuration=500,toastr.options.positionClass="toast-top-right",toastr.options.closeButton=!0}return e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];toastr.error(e),this.log("ERROR",e,n)},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];toastr.warning(e),this.log("WARN ",e,n)},e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];toastr.info(e),this.log("INFO ",e,n)},e.prototype.debug=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];this.log("DEBUG",e,n)},e.prototype.log=function(e,n){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];this.$log.log((new Date).toISOString()+" "+e+" "+n+" "+t.join(" "))},e.$inject=["$log"],e}();angular.module("common").service("LoggerService",n)}(n=e.Services||(e.Services={}))}(Common||(Common={}));var Common;!function(e){var n;!function(e){"use strict";var n=function(){function e(e,n){this.appConfig=e,this.$location=n}return e.prototype.getServiceUrl=function(e){var n=this.appConfig.baseUrlPattern.replace("{host}",this.$location.host());return n+e},e.prototype.getWebsocketUrl=function(){return this.appConfig.baseWsUrlPattern.replace("{host}",this.$location.host())},e.$inject=["appConfig","$location"],e}();angular.module("common").service("ConfigService",n)}(n=e.Services||(e.Services={}))}(Common||(Common={}));var Common;!function(e){var n;!function(e){"use strict";function n(){return{restrict:"E",controller:t,controllerAs:"mainMenu",replace:!0,templateUrl:"common/directives/main-menu-directive.tpl.html",bindToController:!0}}angular.module("common").directive("mainMenu",n);var t=function(){function e(e){this.sessionService=e}return e.prototype.isUserLoggedIn=function(){return this.sessionService.isLoggedIn()},e.prototype.getCurrentUsername=function(){var e=this.sessionService.getCurrentSession();return e?e.username:null},e.$inject=["SessionService"],e}();e.MainMenuCtrl=t}(n=e.Directives||(e.Directives={}))}(Common||(Common={}));var chat;!function(e){"use strict";angular.module("chat",[])}(chat||(chat={}));var chat;!function(e){var n;!function(n){"use strict";var t=function(){function e(){this.restrict="E",this.scope={chatModel:"=",chatSection:"@chatSection",id:"="},this.templateUrl="chat/views/chat-window-template.html"}return e.prototype.link=function(e,n,t){e.sendMessage=function(n){e.chatModel.sendMessage(n),this.currentMessage=""},e.inputBoxKeypress=function(n){if(13===n.which){var t={message:$("#msgInput").val()};$("#msgInput").val(""),e.chatModel.sendMessage(t)}},e.id=angular.isUndefined(e.id)?"":e.id,e.chatModel.storeChatSectionDataInCtrl(e.chatSection,e.id),e.chatModel.subscribeToChatSectionEvents(e.chatSection),e.chatModel.fetchChatHistory(e.chatSection,e.id),e.$on("$destroy",function(){e.chatModel.unsubscribeToChatSectionEvents(e.chatSection,e.id)}),e.$watchCollection(function(){return e.chatModel.chatHistory},function(e,n){var t=$(".chat-output");if(e!==n)if(0===n.length){t.empty();for(var o=0;o<e.length;++o)t.append($("<span><strong>["+e[o].creationDate+"&nbsp"+e[o].from+"]</strong>&nbsp"+e[o].message+"<br></span>"))}else{var s=e.length-1;t.append($("<span><strong>["+e[s].creationDate+"&nbsp"+e[s].from+"]</strong>&nbsp"+e[s].message+"<br></span>"))}})},e.factory=function(){var n=function(){return new e};return n.$inject=[],n},e.DirectoryName="chatWindow",e}();n.ChatWindow=t,angular.module("chat").directive(e.directives.ChatWindow.DirectoryName,e.directives.ChatWindow.factory())}(n=e.directives||(e.directives={}))}(chat||(chat={}));var __extends=this.__extends||function(e,n){function t(){this.constructor=e}for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o]);t.prototype=n.prototype,e.prototype=new t},chat;!function(e){var n;!function(e){"use strict";var n=function(){function e(e,n,t){this.$scope=e,this.userService=n,this.messageService=t,this.chatHistory=[],this.initChatModel()}return e.prototype.initChatModel=function(){this.$scope.chatModel={chatHistory:this.chatHistory,userService:this.userService,messageService:this.messageService,storeChatSectionDataInCtrl:this.storeChatSectionDataInCtrl,subscribeToChatSectionEvents:this.subscribeToChatSectionEvents,unsubscribeToChatSectionEvents:this.unsubscribeToChatSectionEvents,fetchChatHistory:this.fetchChatHistory,sendMessage:this.sendMessage,chatMessageListener:this.chatMessageListener}},e.prototype.storeChatSectionDataInCtrl=function(e,n){this.chatSection=e,this.id=n},e.prototype.subscribeToChatSectionEvents=function(e){var n=this;this.messageService.addMessageListener(e+"ChatMessage",this.chatMessageListener(n)),this.messageService.addMessageListener(e+"ChatHistory",function(e){e.data.chatHistory.length>0?($("#chatHistoryPlaceholder").hide(),n.chatHistory=e.data.chatHistory):$("#chatHistoryPlaceholder").show()})},e.prototype.chatMessageListener=function(e){return function(n){e.chatHistory.push(n.data.chatMessageObj)}},e.prototype.unsubscribeToChatSectionEvents=function(e,n){this.messageService.removeMessageListenerType(e+"ChatMessage"),this.messageService.removeMessageListenerType(e+"ChatHistory");var t=new s({chatSectionPrefix:e,id:n});this.messageService.sendMessage(t)},e.prototype.sendMessage=function(e){var n=new i({chatSectionPrefix:this.chatSection,chatMessageObj:e,id:this.id});this.messageService.sendMessage(n)},e.prototype.fetchChatHistory=function(e,n){var t=new r({chatSectionPrefix:e,id:n,chatHistory:null});this.messageService.sendMessage(t)},e.$inject=["$scope","UserService","MessageService"],e}(),t=function(){function e(e){this.message=e.message,this.creationDate=e.creationDate,this.from=e.from,this.to=e.to}return e}();e.ChatMessage=t;var o=function(){function e(e,n,t){this.type=e,this.data=n,this.id=t}return e}();e.ClientMessage=o;var s=function(e){function n(t){e.call(this,t.chatSectionPrefix+t.id+n.NAME,t,t.id)}return __extends(n,e),n.NAME="ChatUnsubscribe",n}(o);e.UnsubscribeToChatSectionMessage=s;var i=function(e){function n(t){e.call(this,t.chatSectionPrefix+n.NAME,t,t.id)}return __extends(n,e),n.NAME="ChatMessage",n}(o);e.ChatInputMessage=i;var r=function(e){function n(t){e.call(this,t.chatSectionPrefix+n.NAME,t,t.id)}return __extends(n,e),n.NAME="ChatHistory",n}(o);e.ChatHistoryMessage=r,angular.module("chat").controller("ChatCtrl",n)}(n=e.controllers||(e.controllers={}))}(chat||(chat={}));var home;!function(e){"use strict";function n(e){e.when("/user",{templateUrl:"user/views/user.tpl.html",controller:"UserCtrl",controllerAs:"user",resolve:{Something:["UserService",function(e){return e.loadUserData()}]}})}angular.module("user").config(n),n.$inject=["$routeProvider"]}(home||(home={}));var session;!function(e){"use strict";function n(e){e.when("/session",{templateUrl:"session/views/session.tpl.html",controller:"SessionCtrl",controllerAs:"session",resolve:{Something:["SessionService",function(e){return e.loadCurrentSession()}]}})}angular.module("session").config(n),n.$inject=["$routeProvider"]}(session||(session={}));var lobby;!function(e){"use strict";angular.module("lobby",["ngRoute","ngResource","ngAnimate"])}(lobby||(lobby={}));var lobby;!function(e){"use strict";function n(e){e.when("/lobby",{templateUrl:"lobby/views/lobby.tpl.html",controller:"LobbyCtrl",controllerAs:"lobby",resolve:{LoadUserData:["UserService",function(e){return e.loadUserData()}]}})}angular.module("lobby").config(n),n.$inject=["$routeProvider"]}(lobby||(lobby={}));var Game;!function(e){var n;!function(e){"use strict";!function(e){e[e.Empty=0]="Empty",e[e.Red=1]="Red",e[e.Yellow=2]="Yellow"}(e.Color||(e.Color={}));e.Color;!function(e){e[e.New=0]="New",e[e.Running=1]="Running",e[e.Finished=2]="Finished",e[e.Broken=3]="Broken"}(e.GameState||(e.GameState={}));var n=(e.GameState,function(){function e(e,n,o,s,i){this.$resource=e,this.$q=n,this.log=o,this.messageService=s,this.configService=i;var r=this,a=this.configService.getServiceUrl("/game/:gameId");r.gameResource=e(a,{gameId:"@_id"},{create:{method:"POST"},move:{method:"POST",url:a+"/move"},restart:{method:"POST",url:a+"/restart"},"break":{method:"POST",url:a+"/break"}}),s.addMessageListener(t.NAME,function(e){r.gameId===e.data._id&&(r.log.debug("message reveiced "+e),r.setGame(e.data))})}return e.prototype.getGame=function(){return this.game},e.prototype.getGameId=function(){return this.gameId},e.prototype.newGame=function(){var e=this,n=this.$q.defer();return this.game?n.resolve(this.game):this.gameResource.create().$promise.then(function(t){e.setGame(t),n.resolve(e.game)})["catch"](function(t){e.log.debug("new game failed",t),n.reject(t)}),n.promise},e.prototype.loadGame=function(e){var n=this,t=this.$q.defer();return this.gameId!==e?this.gameResource.get({gameId:e}).$promise.then(function(e){n.setGame(e),t.resolve(n.game)})["catch"](function(e){n.log.debug("load game failed",e),t.reject(e)}):t.resolve(this.game),this.gameId=e,t.promise},e.prototype.doMove=function(e){var n=this,t=this.$q.defer();return this.gameResource.move({col:e},this.game).$promise.then(function(e){n.setGame(e),t.resolve(n.game)})["catch"](function(e){n.log.debug("do move failed",e),t.reject(e)}),t.promise},e.prototype.restartGame=function(){var e=this,n=this.$q.defer();return this.gameResource.restart(this.game).$promise.then(function(t){e.setGame(t),n.resolve(e.game)})["catch"](function(t){e.log.debug("restart game failed",t),n.reject(t)}),n.promise},e.prototype.breakGame=function(){var e=this,n=this.$q.defer();return this.gameResource["break"](this.game).$promise.then(function(t){e.setGame(t),n.resolve(e.game)})["catch"](function(t){e.log.debug("break game failed",t),n.reject(t)}),n.promise},e.prototype.setGame=function(e){this.game=e,this.gameId=e._id},e.$inject=["$resource","$q","LoggerService","MessageService","ConfigService"],e}()),t=function(){function e(){this.type=e.NAME}return e.NAME="GameUpdateMessage",e}();angular.module("game").service("GameService",n)}(n=e.Services||(e.Services={}))}(Game||(Game={}));var lobby;!function(e){var n;!function(e){"use strict";var n=function(){function e(e,n,o,s,i){this.$http=e,this.$resource=n,this.configService=o,this.messageService=s,this.$location=i,s.addMessageListener(t.NAME,function(e){i.path("/game/"+e.data.gameId)})}return e.prototype.LobbyRoom=function(){return this.$resource(this.configService.getServiceUrl("/lobby/:id"),{id:"@id"})},e.$inject=["$http","$resource","ConfigService","MessageService","$location"],e}();e.LobbyStorage=n;var t=function(){function e(){this.type=e.NAME}return e.NAME="RoomUpdateMessage",e}()}(n=e.services||(e.services={}))}(lobby||(lobby={})),angular.module("lobby").service("lobbyStorage",lobby.services.LobbyStorage);var lobby;!function(e){var n;!function(e){"use strict";var n=function(){function e(){}return e}();e.Room=n}(n=e.models||(e.models={}))}(lobby||(lobby={}));var lobby;!function(e){var n;!function(e){"use strict";var n=function(){function e(e){null!==e&&(this.roomId=e.roomId,this.name=e.name,this.status=e.status,this.creationTime=e.creationTime,this.players=e.players,this.isDelete=e.isDelete,this.isJoin=e.isJoin,this.gameId=e.gameId)}return e}();e.Room=n}(n=e.interfaces||(e.interfaces={}))}(lobby||(lobby={}));var lobby;!function(e){var n;!function(e){"use strict";var n=function(){function e(){this.restrict="A",this.link=function(e,n,t){n.bind("click",function(e){e.stopPropagation()})}}return e.factory=function(){var n=function(){return new e};return n},e.DirectoryName="stopEvent",e}();e.StopEvent=n;var t=function(){function e(){this.restrict="A",this.require="ngModel",this.link=function(e,n,t,o){o.$validators.room=function(e,n){var t=/^\w+$/;return t.test(n)?!0:!1}}}return e.factory=function(){var n=function(){return new e};return n},e.DirectoryName="room",e}();e.RoomValidator=t;var o=function(){function e(e){var n=this;this.restrict="E",this.transclude=!0,this.templateUrl="lobby/views/action-message.html",this.link=function(e,t,o,s){e.$watch(function(){return e.lobby.actionMessage},function(o,s){null===s.isError&&null!==o.isError&&(o.isError?t.find("div:first").addClass("message-panel-error"):o.isError||t.find("div:last").addClass("message-panel-success"),n.$timeout(function(){e.lobby.actionMessage.isError=null},5e3))})},this.$timeout=e}return e.factory=function(){var n=function(n){return new e(n)};return n.$inject=["$timeout"],n},e.DirectoryName="actionMessageDisplay",e}();e.ActionMessageDisplay=o}(n=e.directives||(e.directives={}))}(lobby||(lobby={})),angular.module("lobby").directive(lobby.directives.StopEvent.DirectoryName,lobby.directives.StopEvent.factory()).directive(lobby.directives.RoomValidator.DirectoryName,lobby.directives.RoomValidator.factory()).directive(lobby.directives.ActionMessageDisplay.DirectoryName,lobby.directives.ActionMessageDisplay.factory());var __extends=this.__extends||function(e,n){function t(){this.constructor=e}for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o]);t.prototype=n.prototype,e.prototype=new t},lobby;!function(e){var n;!function(n){"use strict";var t=function(){function n(n,t,s,i,r,a,c){this.$scope=n,this.$log=t,this.$window=s,this.$rootScope=i,this.lobbyStorage=r,this.userService=a,this.$interval=c,this.lobbyData=[],this.gameCreation=!0,this.gameEditing=!0,this.currentItem=new e.interfaces.Room(null),this.actionMessage=new o(null,null),this.orderBy="roomId",this.isDesc=!1;var l=this;this.displayUser=a.getCurrentUser(),this.getRooms(this)(),this.lobbyInterval=c(this.getRooms(this),3e3);var u=$("body");$(document).ready(function(){u.tooltip({selector:"[data-toggle=tooltip]"})}),n.$on("$destroy",function(){l.stopInterval(l)()})}return n.prototype.toggleNewGame=function(){this.gameEditing=!0,this.gameCreation=this.gameCreation===!1?!0:!1},n.prototype.toggleEditingGame=function(){this.gameCreation=!0,this.gameEditing=this.gameEditing===!1?!0:!1},n.prototype.editRoom=function(e){this.currentItem.name=e.name,this.currentItem.roomId=e.roomId,this.toggleEditingGame()},n.prototype.joinRoom=function(e){e.isJoin=!0,this.updateRoom(e)},n.prototype.getPositionOfElement=function(e,n,t){for(var o=-1,s=0,i=e.length;i>s;s++)e[s][n]==t&&(o=s);return o},n.prototype.getHighestValue=function(e,n,t){for(var o=t,s=0,i=e.length;i>s;s++)e[s][n]>o&&(o=e[s][n]);return o},n.prototype.reorderList=function(e){this.orderBy===e?this.isDesc=this.isDesc?!1:!0:(this.orderBy=e,this.isDesc=!1)},n.prototype.stopInterval=function(e){return function(){angular.isDefined(e.lobbyInterval)&&(e.$interval.cancel(e.lobbyInterval),e.lobbyInterval=void 0)}},n.prototype.createRoom=function(n){var t=this,o=this.getHighestValue(this.lobbyData,"roomId",-1)+1,s=this.lobbyStorage.LobbyRoom();s.get({id:o},function(o){o.name=n.name,o.$save(function(n){t.lobbyData.push(n),t.actionMessage=new e.controllers.ActionMessageSuccess({isError:!1,data:"The room has been created!"})},function(n){t.actionMessage=new e.controllers.ActionMessageError({isError:!0,status:n.status,statusText:n.statusText,data:n.data})})}),this.toggleNewGame()},n.prototype.deleteRoom=function(n){var t=this,o=this.getPositionOfElement(t.lobbyData,"roomId",n.roomId),s=this.lobbyStorage.LobbyRoom();s.get({id:n.roomId},function(n){n.isDelete=!0,n.$save(function(n){t.lobbyData.splice(o,1),t.actionMessage=new e.controllers.ActionMessageSuccess({isError:!1,data:"The room has been deleted!"})},function(n){t.actionMessage=new e.controllers.ActionMessageError({isError:!0,status:n.status,statusText:n.statusText,data:n.data})})})},n.prototype.getRooms=function(e){return function(){var n=e.lobbyStorage.LobbyRoom().query(function(){e.lobbyData=n},function(e){})}},n.prototype.updateRoom=function(n){var t=this,o=this.getPositionOfElement(t.lobbyData,"roomId",n.roomId),s=this.lobbyStorage.LobbyRoom();s.get({id:n.roomId},function(s){s.name=n.name,s.isJoin=n.isJoin||null,s.$save(function(n){t.lobbyData[o]=n,t.actionMessage=new e.controllers.ActionMessageSuccess({isError:!1,data:"Your room has been updated!"})},function(n){t.actionMessage=new e.controllers.ActionMessageError({isError:!0,status:n.status,statusText:n.statusText,data:n.data})})})},n.$inject=["$scope","$log","$window","$rootScope","lobbyStorage","UserService","$interval"],n}(),o=function(){function e(e,n){this.data=e,this.isError=n}return e}();n.ActionMessage=o;var s=function(e){function n(n){this.status=n.status,this.statusText=n.statusText,e.call(this,n.data,n.isError)}return __extends(n,e),n}(o);n.ActionMessageError=s;var i=function(e){function n(n){e.call(this,n.data,n.isError)}return __extends(n,e),n}(o);n.ActionMessageSuccess=i;var r=function(){function e(e,n,t){this.type=e,this.data=n,this.id=t}return e}();n.ClientMessage=r,angular.module("lobby").controller("LobbyCtrl",t)}(n=e.controllers||(e.controllers={}))}(lobby||(lobby={}));var home;!function(e){"use strict";function n(e){e.when("/home",{templateUrl:"home/views/home.tpl.html",controller:"HomeCtrl",controllerAs:"home"})}angular.module("home").config(n),n.$inject=["$routeProvider"]}(home||(home={}));var game;!function(e){"use strict";function n(e){e.when("/game",{templateUrl:"game/views/game.tpl.html",controller:"GameCtrl",controllerAs:"game",resolve:{newGame:["GameService","SessionService",function(e,n){return n.loadCurrentSession().then(function(n){return e.newGame()})}]}}).when("/game/:gameId",{templateUrl:"game/views/game.tpl.html",controller:"GameCtrl",controllerAs:"game",resolve:{loadGame:["GameService","$route",function(e,n){return e.loadGame(n.current.params.gameId)}]}})}angular.module("game").config(n),n.$inject=["$routeProvider"]}(game||(game={}));var chat;!function(e){"use strict";angular.module("chat")}(chat||(chat={}));var vierGewinnt6;!function(e){"use strict";angular.module("vierGewinnt6",["ngRoute","ngResource","mgcrea.ngStrap","home","game","lobby","user","session","common","chat"]).constant("appConfig",{baseUrlPattern:"http://{host}:2999",baseWsUrlPattern:"ws://{host}:2999"})}(vierGewinnt6||(vierGewinnt6={}));var vierGewinnt6;!function(e){"use strict";function n(e,n){e.otherwise({redirectTo:"/home"}),n.defaults.withCredentials=!0}function t(e,n,t,o){for(var s in e.routes){var i=e.routes[s];i.resolve=i.resolve?i.resolve:{},i.resolve.LoadCurrentSession=["SessionService",function(e){return e.loadCurrentSession()}]}n.$on("$routeChangeError",function(e,n,s,i){i&&i.status&&401===i.status?t.path("/session"):o.warn("route change error",i)})}angular.module("vierGewinnt6").config(n).run(t),n.$inject=["$routeProvider","$httpProvider"],t.$inject=["$route","$rootScope","$location","LoggerService"]}(vierGewinnt6||(vierGewinnt6={})),angular.module("vierGewinnt6").run(["$templateCache",function(e){e.put("user/views/user.tpl.html",'<div class="container-fluid">\n\n  <div class="row">\n    <header class="col-xs-12 col-sm-12">\n      <h2>Einstellungen</h2>\n      <p>Benutzername und Passwort Ã¤ndern</p>\n    </header>\n  </div>\n\n  <div class="row">\n    <section class="col-xs-6 col-sm-6">\n      <form name="userForm" ng-submit="user.saveUser()">\n        <div class="form-group has-feedback" ng-class="{\'has-success\': userForm.name.$valid, \'has-error\': userForm.name.$invalid }">\n          <label for="name">Name</label>\n          <input ng-model="user.displayUser.name" type="text" class="form-control" name="name" id="name" placeholder="Name" required ng-pattern="/^[a-zA-Z0-9]{3,15}$/">\n          <span class="glyphicon form-control-feedback" ng-class="{\'glyphicon-ok\': userForm.name.$valid, \'glyphicon-remove\': userForm.name.$invalid}" aria-hidden="true"></span>\n          <span class="help-block">Drei bis 15 alphanumerische Zeichen erforderlich.</span>\n        </div>\n        <div class="form-group has-feedback" ng-class="{\'has-success\': userForm.password.$valid, \'has-error\': userForm.password.$invalid }">\n          <label for="password">Passwort</label>\n          <input ng-model="user.password" type="password" class="form-control has-error" name="password" id="password" placeholder="Password" required ng-minlength="3">\n          <span class="glyphicon form-control-feedback" ng-class="{\'glyphicon-ok\': userForm.password.$valid, \'glyphicon-remove\': userForm.password.$invalid}" aria-hidden="true"></span>\n          <span class="help-block">Mindestens drei Zeichen erforderlich.</span>\n        </div>\n        <div class="form-group has-feedback" ng-class="{\'has-success\': userForm.passwordCheck.$valid, \'has-error\': userForm.passwordCheck.$invalid }">\n          <label for="passwordCheck">Passwort wiederholen</label>\n          <input ng-model="user.passwordCheck" type="password" class="form-control" name="passwordCheck" id="passwordCheck" placeholder="Password" required ng-minlength="3">\n          <span class="glyphicon form-control-feedback" ng-class="{\'glyphicon-ok\': userForm.passwordCheck.$valid, \'glyphicon-remove\': userForm.passwordCheck.$invalid}" aria-hidden="true"></span>\n          <span class="help-block">Mindestens drei Zeichen erforderlich.</span>\n        </div>\n        <button type="submit" class="btn btn-default" ng-disabled="userForm.$invalid">Speichern</button>\n      </form>\n    </section>\n  </div>\n</div>\n')}]),angular.module("vierGewinnt6").run(["$templateCache",function(e){e.put("session/views/session.tpl.html",'<div class="container-fluid">\n\n  <div class="row">\n    <header class="col-xs-12 col-sm-12">\n      <h2>Login</h2>\n    </header>\n  </div>\n\n  <div class="row">\n    <section class="col-xs-6 col-sm-6">\n\n      <!-- user is currently logged out -->\n      <div ng-hide="session.userLoggedIn">\n        <p>Bitte melde dich an.</p>\n        <form name="sessionForm" ng-submit="session.login()">\n          <div class="form-group has-feedback" ng-class="{\'has-success\': sessionForm.name.$valid, \'has-error\': sessionForm.name.$invalid }">\n            <label for="name">Name</label>\n            <input ng-model="session.username" type="text" class="form-control" name="name" id="name" placeholder="Name" required ng-pattern="/^[a-zA-Z0-9]{3,15}$/">\n            <span class="glyphicon form-control-feedback" ng-class="{\'glyphicon-ok\': sessionForm.name.$valid, \'glyphicon-remove\': sessionForm.name.$invalid}" aria-hidden="true"></span>\n            <span class="help-block">Drei bis 15 alphanumerische Zeichen erforderlich.</span>\n          </div>\n          <div class="form-group has-feedback" ng-class="{\'has-success\': sessionForm.password.$valid, \'has-error\': sessionForm.password.$invalid }">\n            <label for="password">Passwort</label>\n            <input ng-model="session.password" type="password" class="form-control has-error" name="password" id="password" placeholder="Password" required ng-minlength="3">\n            <span class="glyphicon form-control-feedback" ng-class="{\'glyphicon-ok\': sessionForm.password.$valid, \'glyphicon-remove\': sessionForm.password.$invalid}" aria-hidden="true"></span>\n            <span class="help-block">Mindestens drei Zeichen erforderlich.</span>\n          </div>\n          <button type="submit" class="btn btn-default" ng-disabled="sessionForm.$invalid">Login</button>\n        </form>\n      </div>\n\n      <!-- user is currently logged in -->\n      <div ng-show="session.userLoggedIn">\n        <p>Hallo {{session.currentSession.username}}!</p>\n        <button ng-click="session.logout()" class="btn btn-default">Logout</button>\n      </div>\n    </section>\n  </div>\n</div>\n');
}]),angular.module("vierGewinnt6").run(["$templateCache",function(e){e.put("lobby/views/lobby.tpl.html",'<div class="container-fluid">\n\n  <div class="row">\n    <header class="col-xs-12 col-md-12">\n      <h2>Lobby</h2>\n      <p>Chatte und starte ein Spiel</p>\n    </header>\n  </div>\n\n  <div class="row">\n    <section class="col-xs-12 col-md-12">\n\n      <!-- Static navbar -->\n      <nav class="navbar navbar-default">\n        <div class="container-fluid">\n          <div class="navbar-header">\n            <a id="createGame" class="navbar-brand" href="#" ng-click="lobby.toggleNewGame()" stop-event><span\n              class="glyphicon glyphicon-plus"></span></a>\n          </div>\n          <div id="navbar" class="navbar-collapse collapse">\n          </div>\n        </div>\n      </nav>\n\n    </section>\n  </div>\n\n  <div class="row">\n    <section class="col-xs-12 col-md-8">\n\n      <!--Panel Heading - Create New Game -->\n      <div class="panel panel-default" ng-hide="lobby.gameCreation">\n        <div class="panel-heading">\n          <span class="glyphicon glyphicon-file icon"></span>\n          Create New Game\n        </div>\n        <div class="panel-body">\n          <div class="form-group has-feedback">\n            <form name="createRoomForm" novalidate> <!-- deactivate HTML5 validation-->\n              <label for="creation-name">Name:</label>\n              <input type="text" name="name" class="form-control" id="creation-name" ng-minlength="3"\n                     ng-model="lobby.currentItem.name" room>\n\n              <div class="validation-wrapper">\n                <div ng-show="createRoomForm.name.$error.minlength" class="validation-errors">The minimum length of the\n                  number has to be at least 3 character long!\n                </div>\n                <div ng-show="createRoomForm.name.$error.room " class="validation-errors">Only alphanumeric characters\n                  are accepted as input!\n                </div>\n                <span ng-hide="createRoomForm.name.$error.room || createRoomForm.name.$error.minlength"\n                      class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n                <span ng-show="createRoomForm.name.$error.room || createRoomForm.name.$error.minlength"\n                      class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>\n              </div>\n            </form>\n          </div>\n          <button type="submit" class="btn btn-default"\n                  ng-click="createRoomForm.$valid && lobby.createRoom({name : lobby.currentItem.name})">Create\n          </button>\n        </div>\n      </div>\n\n      <!--Panel Heading - Edit Existing Game -->\n      <div class="panel panel-default" ng-hide="lobby.gameEditing">\n        <div class="panel-heading">\n          <span class="glyphicon glyphicon-file icon"></span>\n          Edit Existing Game\n        </div>\n        <div class="panel-body">\n          <div class="form-group has-feedback">\n            <form name="editRoomForm" novalidate> <!-- deactivate HTML5 validation-->\n              <label for="editing-title">Name:</label>\n              <input type="text" name="name" class="form-control" id="editing-title" ng-minlength="3"\n                     ng-model="lobby.currentItem.name" room>\n              <input type="hidden" name="roomId" class="form-control" ng-model="lobby.currentItem.roomId">\n\n              <div class="validation-wrapper">\n                <div ng-show="editRoomForm.name.$error.minlength" class="validation-errors">The minimum length of the\n                  number has to be at least 3 character long!\n                </div>\n                <div ng-show="editRoomForm.name.$error.room " class="validation-errors">Only alphanumeric characters are\n                  accepted as input!\n                </div>\n                <span ng-hide="editRoomForm.name.$error.room || editRoomForm.name.$error.minlength"\n                      class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n                <span ng-show="editRoomForm.name.$error.room || editRoomForm.name.$error.minlength"\n                      class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>\n              </div>\n            </form>\n          </div>\n          <button type="submit" class="btn btn-default"\n                  ng-click="editRoomForm.$valid && lobby.updateRoom({roomId : lobby.currentItem.roomId, name : lobby.currentItem.name})">\n            Edit\n          </button>\n        </div>\n      </div>\n\n      <!-- Show messages regarding actions to the user -->\n      <action-message-display></action-message-display>\n\n      <!-- Display Games -->\n      <div class="panel panel-default">\n        <div class="panel-heading">\n          <span class="glyphicon glyphicon-list-alt icon"></span>\n          Games\n        </div>\n        <div class="panel-body">\n          <table class="table note-table">\n            <thead class="game-table-header">\n            <tr>\n              <th>\n                RoomId\n                <a href="#" ng-click="lobby.reorderList(\'roomId\')" stop-event>\n                  <span class="glyphicon glyphicon-chevron-down"></span>\n                </a>\n              </th>\n              <th>\n                Name\n                <a href="#" ng-click="lobby.reorderList(\'name\')" stop-event>\n                  <span class="glyphicon glyphicon-chevron-down"></span>\n                </a>\n              </th>\n              <th>\n                Status\n                <a href="#" ng-click="lobby.reorderList(\'status\')" stop-event>\n                  <span class="glyphicon glyphicon-chevron-down"></span>\n                </a>\n              </th>\n              <th>\n                Players\n                <a href="#" stop-event>\n                  <span class="glyphicon glyphicon-chevron-down"></span>\n                </a>\n              </th>\n              <th>\n                Creation\n                <a href="#" ng-click="lobby.reorderList(\'creationTime\')" stop-event>\n                  <span class="glyphicon glyphicon-chevron-down"></span>\n                </a>\n              </th>\n              <th>\n                Actions\n                <a href="#" stop-event>\n                  <span class="glyphicon glyphicon-chevron-down"></span>\n                </a>\n              </th>\n            </tr>\n            </thead>\n            <tbody class="note-table-body">\n            <tr class="noteTableRow" ng-repeat="item in lobby.lobbyData | orderBy: lobby.orderBy : lobby.isDesc">\n              <td>{{item.roomId}}</td>\n              <td>{{item.name}}</td>\n              <td>{{item.status}}</td>\n              <td>\n                <span ng-repeat="player in item.players">\n                  {{player.userName}}\n                </span>\n              </td>\n              <td>{{item.creationTime}}</td>\n              <td>\n                <a href="#" class="icon" ng-click="lobby.joinRoom(item)" data-toggle="tooltip" data-placement="bottom" title="Join an existing game" stop-event>\n                  <span class="glyphicon glyphicon-plus"></span>\n                </a>\n                <a href="#" class="icon" ng-click="lobby.editRoom(item)" data-toggle="tooltip" data-placement="bottom" title="Edit your created room" stop-event>\n                  <span class="glyphicon glyphicon-pencil"></span>\n                </a>\n                <a href="#" class="icon" ng-click="lobby.deleteRoom(item)" data-toggle="tooltip" data-placement="right" title="Delete your created room" stop-event>\n                  <span class="glyphicon glyphicon-trash"></span>\n                </a>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n    </section>\n    <aside class="col-xs-12 col-md-4">\n\n      <!-- Import the chat controller -->\n      <div ng-controller="ChatCtrl">\n        <chat-window chat-model="chatModel" chat-section=\'lobby\'></chat-window>\n      </div>\n\n     </aside>\n   </div>\n</div>\n\n\n\n')}]),angular.module("vierGewinnt6").run(["$templateCache",function(e){e.put("lobby/views/action-message.html",'<!-- Error -->\n<div class="panel panel-default action-message" ng-hide="lobby.actionMessage.isError === null || lobby.actionMessage.isError === false">\n    <span class="action-message-text ">\n      {{lobby.actionMessage.data}}\n      <!--{{lobby.actionMessage.status}}\n      {{lobby.actionMessage.statusText}}-->\n    </span>\n</div>\n\n<!-- Success -->\n<div class="panel panel-default action-message" ng-hide="lobby.actionMessage.isError === null || lobby.actionMessage.isError === true">\n  <span class="action-message-text">\n    {{lobby.actionMessage.data}}\n  </span>\n</div>\n\n')}]),angular.module("vierGewinnt6").run(["$templateCache",function(e){e.put("home/views/home.tpl.html",'<div class="container-fluid">\n\n  <header>\n    <div class="row">\n      <div class="col-xs-12 col-sm-12">\n        <h2>Willkommen beim Vier Gewinnt der Gruppe 6</h2>\n      </div>\n    </div>\n  </header>\n\n  <section>\n    <div class="row">\n      <div class="col-xs-12 col-sm-12">\n        <h3>Spiel starten</h3>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12 col-sm-10">\n        Klicke auf <a href="#/game">Spiel</a>, um ein lokales Spiel zu zweit vor einem Bildschirm zu starten.\n      </div>\n      <div class="col-xs-12 col-sm-2">\n        <a class="btn btn-default btn-block" href="#/game" role="button">Spiel</a>\n      </div>\n    </div>\n  </section>\n\n  <section>\n    <div class="row">\n      <div class="col-xs-12 col-sm-12">\n        <h3>Spielpartner finden</h3>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12 col-sm-10">\n        Klicke auf <a href="#/lobby">Lobby</a>, um einen Spielpartner fÃ¼r ein Netzwerkspiel zu finden.\n      </div>\n      <div class="col-xs-12 col-sm-2">\n        <a class="btn btn-default btn-block" href="#/lobby" role="button">Lobby</a>\n      </div>\n    </div>\n  </section>\n\n  <section>\n    <div class="row">\n      <div class="col-xs-12 col-sm-12">\n        <h3>Spielkonto nutzen</h3>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12 col-sm-10">\n        Klicke auf <a href="#/session">Login</a>, um dich an einem bereits bestehenden Spielkonto anzumelden oder um ein Spielkonto zu erstellen.<br>\n        Klicke auf <a href="#/user">Einstellungen</a>, um deine Angaben im Spielkonto anzuzeigen oder zu Ã¤ndern.\n      </div>\n      <div class="col-xs-12 col-sm-2">\n        <a class="btn btn-default btn-block" href="#/session" role="button">Login</a>\n      </div>\n    </div>\n  </section>\n\n</div>\n')}]),angular.module("vierGewinnt6").run(["$templateCache",function(e){e.put("game/views/game.tpl.html",'<div class="container-fluid">\n\n  <div class="row">\n    <header class="col-xs-12 col-sm-12">\n      <h2>Spiel</h2>\n      <p>Auf Spalte klicken um Stein zu legen</p>\n    </header>\n  </div>\n\n  <div class="row">\n    <section class="col-xs-12 col-sm-6">\n      <game-move></game-move>\n    </section>\n  </div>\n\n  <div class="row">\n\n    <section class="col-xs-12 col-sm-6">\n\n      <div class="game-container" ng-click="game.doMove($event)" ng-mouseover="game.mouseOver($event)">\n          <div class="game-row" ng-repeat="gameFieldRow in game.getCurrentGame().cells track by $index">\n            <game-field ng-repeat="gameField in gameFieldRow track by $index"></game-field>\n          </div>\n      </div>\n\n      <div class="btn-group btn-group-justified game-control" role="group" aria-label="...">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-default" ng-click="game.restartGame()">\n            <span class="glyphicon glyphicon-repeat" aria-hidden="true"></span> Neues Spiel\n          </button>\n        </div>\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-default" ng-click="game.breakGame()">\n            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Spiel beenden\n          </button>\n        </div>\n      </div>\n    </section>\n\n    <aside class="col-xs-12 col-sm-6">\n      <!-- Chat Module -->\n      <div ng-controller="ChatCtrl">\n        <chat-window chat-model="chatModel" chat-section=\'game\' id="(game.getCurrentGame())._id"></chat-window>\n      </div>\n    </aside>\n\n  </div>\n\n</div>\n')}]),angular.module("vierGewinnt6").run(["$templateCache",function(e){e.put("game/directives/game-move-directive.tpl.html",'<div class="game-move">\n\n  <div class="move-play" ng-click="game.doMove($event)" ng-mouseover="game.mouseOver($event)" tabindex="0" ng-keydown="game.keyDown($event)" >\n    <div class="game-row">\n      <game-field ng-repeat="gameField in game.getMoveFields() track by $index"></game-field>\n    </div>\n  </div>\n\n  <div class="move-info" ng-class="game.getGameState().state">\n    <div class="message-cell">\n      <span class="message-text">{{game.getGameState().message}}</span>\n    </div>\n  </div>\n\n</div>\n')}]),angular.module("vierGewinnt6").run(["$templateCache",function(e){e.put("game/directives/game-field-directive.tpl.html",'<div class="game-box">\n  <div class="game-field" ng-class="{\'red\':gameField==1, \'yellow\':gameField==2}" data-x="{{$index}}" data-y="{{$parent.$index}}"></div>\n</div>\n')}]),angular.module("vierGewinnt6").run(["$templateCache",function(e){e.put("common/directives/main-menu-directive.tpl.html","<nav class='navbar navbar-inverse' role='navigation' data-bs-navbar data-bs-collapse data-start-collapsed='true'>\n  <div class='container'>\n\n    <div class='navbar-header'>\n      <button class='navbar-toggle collapsed' type='button' data-bs-collapse-toggle>\n        <span class='sr-only'>Toggle Navigation</span>\n        <span class='icon-bar'></span>\n        <span class='icon-bar'></span>\n        <span class='icon-bar'></span>\n      </button>\n      <a class='navbar-brand' href='#/'>VierGewinnt6</a>\n    </div>\n\n    <div class='navbar-collapse collapse' data-bs-collapse-target>\n      <ul class='nav navbar-nav'>\n        <li data-match-route='/home'>\n          <a href='#/home'>Home</a>\n        </li>\n        <li data-match-route='/lobby'>\n          <a href='#/lobby'>Lobby</a>\n        </li>\n        <li data-match-route='/game'>\n          <a href='#/game'>Spiel</a>\n        </li>\n        <li data-match-route='/user' ng-show='mainMenu.isUserLoggedIn()'>\n          <a href='#/user'>Einstellungen</a>\n        </li>\n        <li data-match-route='/session'>\n          <a href='#/session'>\n            <span ng-hide='mainMenu.isUserLoggedIn()'>Login</span>\n            <span ng-show='mainMenu.isUserLoggedIn()'>Logout</span>\n          </a>\n        </li>\n      </ul>\n\n      <ul class=\"nav navbar-nav navbar-right\">\n        <p class=\"navbar-text\">{{mainMenu.getCurrentUsername()}}</p>\n      </ul>\n    </div>\n\n  </div>\n</nav>\n")}]),angular.module("vierGewinnt6").run(["$templateCache",function(e){e.put("chat/views/chat.tpl.html","")}]),angular.module("vierGewinnt6").run(["$templateCache",function(e){e.put("chat/views/chat-window-template.html",'<!-- Chat window-->\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <span class="glyphicon glyphicon-list-alt icon"></span>\n    Chat\n  </div>\n\n  <div class="panel-body">\n    <label>Nachrichten</label>\n    <div class="chat-output">\n      <div id="chatHistoryPlaceholder">\n        <i>Es sind momentan keine Nachrichten vorhanden!</i>\n      </div>\n    </div>\n    <br>\n    <div class="form-group has-feedback">\n      <form action="">\n        <label>Neue Nachrichten</label>\n        <input id="msgInput" ng-keypress="inputBoxKeypress($event)" autocomplete="off" ng-model="currentMessage.message" class="form-control"/>\n      </form>\n    </div>\n    <button ng-click="sendMessage(currentMessage)" type=\'button\' stop-event class="btn btn-default">Senden</button>\n  </div>\n</div>\n')}]);
//# sourceMappingURL=app-a48edae3.js.map
